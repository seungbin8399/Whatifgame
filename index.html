<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìƒê°ì˜ ë°”ë‹¤ â€” ê°„ë‹¨ ì§„í–‰íˆ´</title>
  <style>
    :root{--bg:#0b1020;--card:#121a2f;--text:#eaf0ff;--border:rgba(255,255,255,.08);--muted:#a9b8ff;}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Apple SD Gothic Neo","Malgun Gothic",sans-serif;background:var(--bg);color:var(--text)}
    .wrap{max-width:900px;margin:0 auto;padding:18px}
    h1{font-size:clamp(22px,3.2vw,32px);margin:0 0 8px}
    .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;margin:10px 0}
    button{background:#2a3a6a;color:var(--text);border:1px solid var(--border);padding:9px 12px;border-radius:10px;cursor:pointer}
    button.ghost{background:transparent}
    textarea, input{width:100%;background:#0f1630;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px}
    .muted{color:var(--muted);font-size:13px}
    ul{margin:8px 0 0 18px}
    .grid{display:grid;gap:10px}
    .two{grid-template-columns:1fr 1fr}
    @media (max-width:780px){.two{grid-template-columns:1fr}}
    .list{display:flex;flex-wrap:wrap;gap:6px}
    .chip{border:1px solid var(--border);padding:5px 8px;border-radius:999px;background:#0e1530}
    .mono{font-family:ui-monospace,Menlo,monospace}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸŒŠ ìƒê°ì˜ ë°”ë‹¤ â€” ê°„ë‹¨ ì§„í–‰íˆ´</h1>
    <p class="muted">ë°¸ëŸ°ìŠ¤ê²Œì„ ë½‘ê¸° Â· í‚¤ì›Œë“œ ë½‘ê¸° Â· ì¡° ì„ê¸°(4ì¸ 1ì¡°). ë¡œì»¬ì—ì„œë§Œ ë™ì‘, ì„¤ì¹˜/ë¡œê·¸ì¸ ì—†ì´ ì‚¬ìš©.</p>

    <!-- ë°¸ëŸ°ìŠ¤ê²Œì„ -->
    <section class="card">
      <h2>1) ë°¸ëŸ°ìŠ¤ê²Œì„ ì£¼ì œ ë½‘ê¸°</h2>
      <div class="row">
        <button id="pickBG">ë¬´ì‘ìœ„ 1ê°œ ë½‘ê¸°</button>
        <button id="pickBG3" class="ghost">ë¬´ì‘ìœ„ 3ê°œ</button>
        <button id="copyBG" class="ghost">ë³µì‚¬</button>
      </div>
      <div id="bgResult" class="list" style="margin-top:8px"></div>
      <details style="margin-top:10px">
        <summary class="muted">ê¸°ë³¸ ì§ˆë¬¸ ë³´ê¸° / ìˆ˜ì •</summary>
        <ul id="bgPreview"></ul>
      </details>
    </section>

    <!-- í‚¤ì›Œë“œ í† ë¡  -->
    <section class="card">
      <h2>2) í‚¤ì›Œë“œ í† ë¡  ì£¼ì œ ë½‘ê¸°</h2>
      <div class="row">
        <button id="pickKW2">ë¬´ì‘ìœ„ 2ê°œ</button>
        <button id="pickKW1" class="ghost">ë¬´ì‘ìœ„ 1ê°œ</button>
        <button id="copyKW" class="ghost">ë³µì‚¬</button>
      </div>
      <div id="kwResult" class="list" style="margin-top:8px"></div>
      <details style="margin-top:10px">
        <summary class="muted">ê¸°ë³¸ í‚¤ì›Œë“œ/ì§ˆë¬¸ ë³´ê¸°</summary>
        <ul id="kwPreview"></ul>
      </details>
    </section>

    <!-- ì¡° ì„ê¸° -->
    <section class="card">
      <h2>3) ì¡° ì„ê¸° (4ì¸ 1ì¡°)</h2>
      <div class="grid two">
        <div>
          <label class="muted">ì°¸ì—¬ì (ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„)</label>
          <textarea id="names" rows="8"></textarea>
          <div class="row" style="margin-top:8px">
            <button id="shuffle">ì„ì–´ì„œ ë°°ì •</button>
            <button id="copyTeams" class="ghost">ê²°ê³¼ ë³µì‚¬</button>
          </div>
          <p class="muted">â€» ì¸ì›ìˆ˜ 4ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ì¡°ëŠ” 3ëª…ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.</p>
        </div>
        <div>
          <div id="teams"></div>
        </div>
      </div>
    </section>

    <p class="muted">Â© ìƒê°ì˜ ë°”ë‹¤ â€” ì‹¬í”Œ ë²„ì „</p>
  </div>

  <script>
    // ===== ë°ì´í„° =====
    const BG = [
      ["í‰ìƒ í•˜ë£¨ì— 3ì‹œê°„ë§Œ ìê³  ì²´ë ¥ í’€ì¶©ì „","í•˜ë£¨ì— 12ì‹œê°„ ìì•¼ ê²¨ìš° ë²„íŒ€"],
      ["ì¹œêµ¬ì™€ 1ë…„ ë™ì•ˆ ì—°ë½ ë‘ì ˆ","ë§¤ì¼ 1ì‹œê°„ í†µí™”"],
      ["ë‚´ê°€ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒê³¼ë§Œ ë‚¨ëŠ” ì„¸ìƒ","ë‚˜ë¥¼ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒê³¼ë§Œ ë‚¨ëŠ” ì„¸ìƒ"],
      ["10ë…„ê°„ ê°™ì€ ë„ì‹œì—ì„œ ì•ˆì •ì ìœ¼ë¡œ ì‚´ê¸°","3ë…„ë§ˆë‹¤ ìƒˆë¡œìš´ ë‚˜ë¼ë¡œ ì´ì‚¬"],
      ["ëª¨ë‘ê°€ ë‚´ ìƒê°ì„ ì½ìŒ","ë‚´ê°€ ëª¨ë‘ì˜ ìƒê°ì„ ì½ìŒ"],
      ["ì›” 300, ì‹œê°„ ììœ  X","ì›” 150, ì‹œê°„ ì™„ì „ ììœ "],
      ["í‰ìƒ ìˆ /ì¹´í˜ì¸ ê¸ˆì§€","í‰ìƒ SNS ê¸ˆì§€"],
      ["ê³¼ê±°ë¡œ 1ë²ˆ ì‹œê°„ì—¬í–‰","ë¯¸ë˜ë¡œ 1ë²ˆ ì‹œê°„ì—¬í–‰"],
    ];

    const KW = [
      {name:'í–‰ë³µ', qs:['í–‰ë³µì€ ëˆìœ¼ë¡œ ì‚´ ìˆ˜ ìˆë‚˜ìš”?','ê°€ì¥ ìµœê·¼ì˜ ì†Œì†Œí•œ í–‰ë³µì€?']},
      {name:'ëˆ', qs:['ëˆì€ ììœ ë¥¼ ì£¼ë‚˜ìš”, êµ¬ì†í•˜ë‚˜ìš”?','ì–¼ë§ˆê°€ ìˆìœ¼ë©´ â€œì¶©ë¶„â€í•œê°€ìš”?']},
      {name:'ììœ ', qs:['ììœ ëŠ” ë¬´ì—‡ì˜ ë¶€ì¬ì¸ê°€ìš”?','ììœ ì™€ ì±…ì„ì˜ ê· í˜•ì€?']},
      {name:'ê´€ê³„', qs:['ê´€ê³„ê°€ ë‚˜ë¥¼ êµ¬ì†í•œë‹¤ê³  ëŠë‚„ ë•ŒëŠ”?','ì¢‹ì€ ê´€ê³„ì˜ ìµœì†Œì¡°ê±´ì€?']},
      {name:'ì£½ìŒ', qs:['ì£½ìŒ ì¸ì‹ì´ ì‚¶ì„ ì–´ë–»ê²Œ ë°”ê¾¸ë‚˜ìš”?','ì„ì¢… ë•Œ ê°€ì¥ í›„íšŒí•  ì¼ì€?']},
      {name:'ì„±ì¥', qs:['ì„±ì¥ì˜ ê¸°ì¤€ì€ ë¬´ì—‡ì¸ê°€ìš”?','ì •ì²´ê¸°ì—ì„œì˜ ëŒ€ì²˜ëŠ”?']},
    ];

    // ===== ìœ í‹¸ =====
    const $ = (sel, root=document) => root.querySelector(sel);
    function shuffleArray(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }
    function copyText(t){ navigator.clipboard.writeText(t).then(()=> alert('ë³µì‚¬ ì™„ë£Œ!')); }

    // ===== ë°¸ëŸ°ìŠ¤ê²Œì„ =====
    function renderBGPreview(){
      const ul = $('#bgPreview'); ul.innerHTML='';
      BG.forEach((q,i)=>{ const li=document.createElement('li'); li.textContent = `Q${i+1}. ${q[0]}  vs  ${q[1]}`; ul.appendChild(li); });
    }
    function pickBG(n=1){
      const picks = shuffleArray(BG).slice(0,n);
      const holder = $('#bgResult'); holder.innerHTML='';
      picks.forEach(([a,b],i)=>{
        const div=document.createElement('div'); div.className='chip';
        div.textContent = `Q${i+1}: ${a}  vs  ${b}`;
        holder.appendChild(div);
      });
      return picks.map(([a,b],i)=>`Q${i+1}: ${a} vs ${b}`).join('
');
    }

    // ===== í‚¤ì›Œë“œ =====
    function renderKWPreview(){
      const ul = $('#kwPreview'); ul.innerHTML='';
      KW.forEach((k,i)=>{
        const li=document.createElement('li');
        li.innerHTML = `<strong>${k.name}</strong> â€” ${k.qs.join(' / ')}`;
        ul.appendChild(li);
      });
    }
    function pickKW(n=2){
      const picks = shuffleArray(KW).slice(0,n);
      const holder = $('#kwResult'); holder.innerHTML='';
      picks.forEach((k)=>{
        const div=document.createElement('div'); div.className='chip';
        div.textContent = `${k.name}: ${k.qs[0]}`;
        holder.appendChild(div);
      });
      return picks.map(k=>`${k.name}: ${k.qs.join(' / ')}`).join('
');
    }

    // ===== ì¡° ì„ê¸° (4ì¸ 1ì¡°) =====
    const DEFAULT_NAMES = [
      'ìœ ìŠ¹ë¹ˆ','ê¹€ìƒê¶Œ','ê¶Œë™êµ­','ë°•ìœ ì •','ë³€ì„œí˜¸','ì†ê°€ì€','ì‹¬ì›ì„­','ì´ì´ê°•','ì´ì£¼ì€','ì •ìš©ì§„','ìµœìŠ¹ì•„','í•˜ê²½ë•','ì˜¤ìŠ¹ë¹ˆ','ìœ ì§„','ì´ëª…ë¹„','ì´ì¢…í™”','ê¹€í™˜í¬','ì‹ ì¬ë¯¼','ìµœìœ ë¦¬'
    ];

    function groupByFour(list){
      const shuffled = shuffleArray(list.filter(x=>x && x.trim()));
      const teams=[]; for(let i=0;i<shuffled.length;i+=4){ teams.push(shuffled.slice(i,i+4)); }
      return teams;
    }

    function renderTeams(teams){
      const root = $('#teams'); root.innerHTML='';
      teams.forEach((t,idx)=>{
        const box=document.createElement('div'); box.className='card';
        const title=document.createElement('div'); title.innerHTML = `<strong>${idx+1}ì¡°</strong> <span class="muted">(${t.length}ëª…)</span>`;
        const ul=document.createElement('ul'); t.forEach(n=>{ const li=document.createElement('li'); li.textContent=n; ul.appendChild(li); });
        box.appendChild(title); box.appendChild(ul); root.appendChild(box);
      });
      if(teams.length && teams[teams.length-1].length!==4){
        const p=document.createElement('p'); p.className='muted';
        p.textContent='ë§ˆì§€ë§‰ ì¡°ëŠ” 3ëª…ì…ë‹ˆë‹¤. í•„ìš” ì‹œ ì§„í–‰ì/ê²ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì¡° í•©ì¹˜ê¸°ë¥¼ ê³ ë ¤í•˜ì„¸ìš”.';
        root.appendChild(p);
      }
    }

    // ===== ì´ë²¤íŠ¸ ë°”ì¸ë”© =====
    window.addEventListener('DOMContentLoaded', ()=>{
      $('#names').value = DEFAULT_NAMES.join('
');
      renderBGPreview();
      renderKWPreview();

      $('#pickBG').addEventListener('click', ()=> pickBG(1));
      $('#pickBG3').addEventListener('click', ()=> pickBG(3));
      $('#copyBG').addEventListener('click', ()=> copyText($('#bgResult').textContent.trim()));

      $('#pickKW2').addEventListener('click', ()=> pickKW(2));
      $('#pickKW1').addEventListener('click', ()=> pickKW(1));
      $('#copyKW').addEventListener('click', ()=> copyText($('#kwResult').textContent.trim()));

      $('#shuffle').addEventListener('click', ()=>{
        const names = $('#names').value.split(/
|,|;/).map(x=>x.trim()).filter(Boolean);
        const teams = groupByFour(names);
        renderTeams(teams);
      });
      $('#copyTeams').addEventListener('click', ()=>{
        const boxes = Array.from($('#teams').querySelectorAll('.card'));
        if(!boxes.length){ alert('ë¨¼ì € ì„ê¸°ë¥¼ ëˆŒëŸ¬ íŒ€ì„ ë§Œë“¤ì–´ìš”!'); return; }
        const lines = boxes.map((box,i)=>{
          const who = Array.from(box.querySelectorAll('li')).map(li=>li.textContent).join(', ');
          const cnt = box.querySelector('.muted').textContent.replace(/[()ëª…]/g,'');
          return `${i+1}ì¡° (${cnt}ëª…): ${who}`;
        }).join('
');
        copyText(lines);
      });
    });
  </script>
</body>
</html>
